#########################################################
# builds a base image with the jdk, maven and some tools
#########################################################
# docker build -f DockerJdkMvn -t maxant/jdkmvn .

FROM openjdk:11.0.7-slim-buster

RUN apt update
RUN apt upgrade
RUN apt install -y curl
RUN apt install -y wget
RUN apt install -y less

# doesnt work for some reason: RUN apt install -y maven
# therefore: https://tecadmin.net/install-apache-maven-on-debian/
RUN cd /usr/local
RUN wget http://www-eu.apache.org/dist/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz
RUN tar xzf apache-maven-3.6.3-bin.tar.gz
RUN ln -s apache-maven-3.6.3 apache-maven
RUN export JAVA_HOME=/usr/local/openjdk-11
RUN export M2_HOME=/usr/local/apache-maven
RUN export MAVEN_HOME=/usr/local/apache-maven
RUN export PATH=${M2_HOME}/bin:${PATH}

RUN mkdir /project

WORKDIR /project

CMD /bin/bash
